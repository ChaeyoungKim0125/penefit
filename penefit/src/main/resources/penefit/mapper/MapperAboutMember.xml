<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.penefit.moons.mapper.MapperAboutMember">
	<insert id="regMember">
		INSERT INTO member (member_id,member_pw,member_name,member_tel, member_address, member_addressdetail, postnum, member_grade) 
		VALUES (#{member_id}, #{member_pw}, #{member_name}, #{member_tel}, #{member_address}, #{member_addressdetail}, #{postnum}, #{member_grade});
	</insert>
	
	<select id="idCheck" resultType="_int" >
		SELECT COUNT(*) FROM member WHERE member_id = #{param1}
	</select>
	
	<select id ="loginCheck" resultType="com.penefit.moons.domain.MemberVO">
		SELECT * FROM member;
	</select>

	<select id ="selectOne" resultType="com.penefit.moons.domain.MemberVO">
		SELECT * FROM member  WHERE member_id = #{param1};
	</select>
	
   <update id="updateMember" >
      UPDATE member SET member_pw = #{member_pw}, member_tel = #{member_tel}, member_address =#{member_address},member_addressdetail =#{member_addressdetail}, postnum = #{postnum} WHERE member_id = #{member_id}
   </update>
   
   <delete id="deleteMember">
   		DELETE FROM member  WHERE member_id = #{member_id};
   </delete>
   
   <select id ="selectALL" resultType="com.penefit.moons.domain.MemberVO">
		SELECT * FROM member; 
	</select>
   <select id ="selectOneID" resultType="com.penefit.moons.domain.MemberVO">
		SELECT * FROM member WHERE member_id LIKE CONCAT('%',#{id},'%')
	</select>
	   <select id ="selectOneName" resultType="com.penefit.moons.domain.MemberVO">
		SELECT * FROM member WHERE member_name LIKE CONCAT('%',#{name},'%')
	</select>
	   <select id ="selectOneGrade" resultType="com.penefit.moons.domain.MemberVO">
		SELECT * FROM member WHERE member_grade LIKE CONCAT('%',#{grade},'%')
	  </select>
	
	 <update id="updateGrade" >
      UPDATE member SET member_grade = #{member_grade} WHERE member_id = #{member_id};
  	 </update>
   
   	 <update id="updateMemberManager" >
        UPDATE member SET member_pw = #{member_pw}, member_name = #{member_name}, member_tel = #{member_tel},member_address = #{member_address} WHERE member_id = #{member_id};
  	 </update>
  	 
  	 <delete id="deleteMemberManager">
   		DELETE FROM member  WHERE member_id = #{member_id};
   	 </delete>
</mapper>